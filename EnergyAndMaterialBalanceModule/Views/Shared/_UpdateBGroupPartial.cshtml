@{
    int selectedResource = (int)ViewData["SelectedResource"];
    Bgroups selectedBGroup = (Bgroups)ViewData["SelectedBGroup"];
}

<button type="button" class="btn vertical-crd-button" data-toggle="modal" data-target="#updateBGroupModal" disabled="@((selectedResource > 0 && selectedBGroup != null) ? null : "disabled")">
    <i class="far fa-edit menu"></i><br>Edit
</button>

@if (selectedBGroup != null)
{
    <!-- Modal Window-->
    <div class="modal fade" id="updateBGroupModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <form asp-controller="MainControler" asp-action="EditGroup" method="post" class="form-horizontal" role="form" id="update-form">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Update Bgroups</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="ebgroup_name">BGroup Name</label>
                            <input type="text" class="form-control" id="edit_bgroup_name" placeholder="BGroup Name" name="bgroup_name" value="@(selectedBGroup != null ? selectedBGroup.BgroupName: null)" required data-error='BGroup Name is required'>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="eparent_bgroup">Parent BGroup</label>
                            <input type="text" class="form-control" id="edit_parent_bgroup" placeholder="Parent BGroup" name="parent_bgroup" value="@(selectedBGroup != null ? selectedBGroup.BgroupIdparentNavigation.BgroupName: null)" readonly required data-error='Parent BGroup is required'>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="eresource">Resource</label>
                            <input type="text" class="form-control" id="edit_resource" placeholder="Resource" name="resource" value="@(selectedBGroup != null ? selectedBGroup.Resource.ResourceName : null)" readonly required data-error='Resource is required'>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="evalid_disbalance">Valid Disbalance</label>
                            <input type="number" class="form-control" id="edit_valid_disbalance" placeholder="Valid Disbalance" name="valid_disbalance" value="@(selectedBGroup != null ? selectedBGroup.ValidDisbalance : null)" required data-error='Valid Disbalance is required'>
                            <div class="help-block with-errors"></div>
                        </div>
                    </div>
                    <div class="modal-footer text-center">
                        <input name="resourceId" type="hidden" value="@selectedResource">
                        @if (selectedBGroup != null)
                        {
                            <input name="bGroupId" type="hidden" value='@selectedBGroup.BgroupId'>
                        }
                        else
                        {
                            <input name="bGroupId" type="hidden" value=''>
                        }
                        <button type="button" class="btn modal-button-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn modal-button-primary">Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
}
